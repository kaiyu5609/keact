{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 59683f35adbf8e2464a8","webpack:///./src/core/constants.js","webpack:///./src/core/util.js","webpack:///./src/vdom/component.js","webpack:///./src/core/render.js","webpack:///./src/core/component.js","webpack:///./src/vdom/diff.js","webpack:///./src/vdom/index.js","webpack:///./src/index.js","webpack:///./src/core/h.js","webpack:///./src/vdom/vnode.js","webpack:///./src/dom/index.js"],"names":["NO_RENDER","SYNC_RENDER","FORCE_RENDER","ASYNC_RENDER","ATTR_KEY","IS_NON_DIMENSIONAL","extend","obj","props","i","defer","Promise","resolve","then","bind","setTimeout","createComponent","setComponentProps","renderComponent","buildComponentFromVNode","unmountComponent","recyclerComponents","Ctor","context","inst","length","prototype","render","call","constructor","doRender","nextBase","splice","state","component","renderMode","mountAll","_disable","base","componentWillMount","componentWillReceiveProps","isChild","prevProps","prevState","prevContext","isUpdate","initialBase","initialChildComponent","_component","skip","snapshot","rendered","cbase","shouldComponentUpdate","stata","componentWillUpdate","_dirty","childComponent","nodeName","childProps","_parentComponent","parentNode","_componentConstructor","push","componentDidUpdate","dom","vnode","c","originalComponent","oldDom","isDirectOwner","isOwner","recollectNodeTree","console","log","enqueueRender","rerender","items","p","pop","parent","merge","Component","setState","flushMounts","diff","removeChildren","mounts","diffLevel","shift","componentDidMount","componentRoot","ret","idiff","appendChild","out","vnodeName","document","createTextNode","replaceChild","String","firstChild","fc","vchildren","children","a","attributes","name","value","innerDiffNode","diffAttributes","originalChildren","childNodes","min","len","childrenLen","vlen","j","f","vchild","child","splitText","undefined","nextSibling","insertBefore","node","unmountOnly","lastChild","next","previousSibling","attrs","old","isSameNodeType","isNamedNode","getNodeProps","normalizedNodeName","toLowerCase","defaultProps","h","flatten","Test","style","Clock","count","ev","time","Date","toLocaleTimeString","color","cursor","clickHandler","data","querySelector","stack","EMPTY_CHILDREN","lastSimple","simple","arguments","EMPTY_RESULT","result","item","VNode","createNode","removeNode","setAccessor","createElement","removeChild","eventProxy","e","_listeners","type","className","cssText","test","useCapture","replace","substring","addEventListener","removeEventListener","removeAttribute","setAttribute"],"mappings":"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","file":"kreact.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"kreact\"] = factory();\n\telse\n\t\troot[\"kreact\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"release\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 59683f35adbf8e2464a8","// 渲染方式\nexport const NO_RENDER = 0;\nexport const SYNC_RENDER = 1;\nexport const FORCE_RENDER = 2;\nexport const ASYNC_RENDER = 3;\n\nexport const ATTR_KEY = '__kreactattr__';\n\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\n\n// WEBPACK FOOTER //\n// ./src/core/constants.js","/**\n * 从 `props`复制所有的属性到`obj`中\n * \n * @param {object} obj \n * @param {object} props \n * @returns {object}\n * @private\n */\nexport function extend(obj, props) {\n    for (let i in props) obj[i] = props[i];\n    return obj;\n}\n\n/**\n * 尽快异步调用函数。如果`Promise`可用，则使用它来调度回调，否则退回使用`setTimeout`（主要用于IE<11）\n * @type {(callback: function) => void}\n */\nexport const defer = typeof Promise == 'function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n\n\n// WEBPACK FOOTER //\n// ./src/core/util.js","import { SYNC_RENDER, NO_RENDER, FORCE_RENDER } from '../core/constants';\nimport { enqueueRender } from '../core/render';\nimport { getNodeProps } from './index';\nimport { diff, mounts, diffLevel, flushMounts } from './diff';\nimport { Component } from '../core/component';\n\n\n/**\n * 保留一组组件以便重复使用\n * @type {Component[]}\n * @private\n */\nexport const recyclerComponents = [];\n\n/**\n * 创建一个组件。规范化PFC和有类组件之间的差异\n * \n * @param {function} Ctor 要创建的组件的构造函数\n * @param {object} props 组件的初始props\n * @param {object} context 组件的初始上下文\n * @returns {Component}\n */\nexport function createComponent(Ctor, props, context) {\n    let inst, i = recyclerComponents.length;\n\n    if (Ctor.prototype && Ctor.prototype.render) {\n        inst = new Ctor(props, context);\n\n        Component.call(inst, props, context);\n    } else {\n        inst = new Component(props, context);\n        inst.constructor = Ctor;\n        inst.render = doRender;\n    }\n\n    while (i--) {\n        if (recyclerComponents[i].constructor === Ctor) {\n            inst.nextBase = recyclerComponents[i].nextBase;\n            recyclerComponents.splice(i, 1);\n            return inst;\n        }\n    }\n\n    return inst;\n}\n\n/**\n * PFC支持实例的`.render()`方法\n * @param {*} props \n * @param {*} state \n * @param {*} context \n */\nfunction doRender(props, state, context) {\n    return  this.constructor(props, context);\n}\n\n\n/**\n * 设置组件的`props`并可能重新渲染组件\n * \n * @param {Comment} component 要设置`props`的组件\n * @param {object} props 新的`props`\n * @param {number} renderMode 指定如何重新渲染组件\n * @param {object} context 新的执行上下文\n * @param {boolean} mountAll 是否立即组装所有组件\n */\nexport function setComponentProps(component, props, renderMode, context, mountAll) {\n    if (component._disable) return;\n    component._disable = true;\n\n    if (!component.base || mountAll) {\n        if (component.componentWillMount) {\n            component.componentWillMount();\n        }\n    } else if (component.componentWillReceiveProps) {\n        component.componentWillReceiveProps(props, context);\n    }\n    component._disable = false;\n\n    if (renderMode !== NO_RENDER) {\n        if (renderMode === SYNC_RENDER || !component.base) {\n            renderComponent(component, SYNC_RENDER, mountAll);\n        } else {\n            enqueueRender(component);\n        }\n    }\n\n}\n\n/**\n * 渲染组件，触发必要的生命周期事件并考虑高阶组件\n * \n * @param {Comment} component 要渲染的组件\n * @param {number} renderMode 指定如何重新渲染组件\n * @param {boolean} mountAll 是否立即组装所有组件\n * @param {boolean} isChild \n * @private\n */\nexport function renderComponent(component, renderMode, mountAll, isChild) {\n    if (component._disable) return;\n\n    let \n        // current\n        props = component.props,\n        state = component.state,\n        context = component.context,\n        // previous\n        prevProps = component.prevProps || props,\n        prevState = component.prevState || state,\n        prevContext = component.prevContext || context,\n        // hasBase\n        isUpdate = component.base,\n        nextBase = component.nextBase,\n        initialBase = isUpdate || nextBase,\n        initialChildComponent = component._component,\n        // rendered\n        skip = false,\n        snapshot = prevContext,\n        rendered,\n        inst,\n        cbase = null;\n\n    // 更新组件\n    if (isUpdate) {\n        component.props = prevProps;\n        component.state = prevState;\n        component.context = prevContext;\n\n        if (\n            renderMode !== FORCE_RENDER && \n            component.shouldComponentUpdate &&\n            component.shouldComponentUpdate(props, stata, context) === false\n        ) {\n            skip = true;\n        } else if (component.componentWillUpdate) {\n            component.componentWillUpdate(props, state, context);\n        }\n\n        component.props = props;\n        component.state = state;\n        component.context = context;\n    }\n\n    component.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n    component._dirty = false;\n\n    if (!skip) {\n        rendered = component.render(props, state, context);\n\n        let childComponent = rendered && rendered.nodeName,\n            base;\n\n        if (typeof childComponent === 'function') {\n            let childProps = getNodeProps(rendered);\n            inst = initialChildComponent;\n\n            if (inst && inst.constructor === childComponent) {\n                setComponentProps(inst, childProps, SYNC_RENDER, context, false);\n            } else {\n                component._component = inst = createComponent(childComponent, childProps, context);\n                inst.nextBase = inst.nextBase || nextBase;\n                inst._parentComponent = component;\n\n                setComponentProps(inst, childProps, NO_RENDER, context, false);\n                renderComponent(inst, SYNC_RENDER, mountAll, true);\n            }\n\n            base = inst.base;\n        } else {\n            cbase = initialBase;\n\n            if (initialBase || renderMode === SYNC_RENDER) {\n                base = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n            }\n        }\n\n        component.base = base;\n\n        if (base) {\n            base._component = component;\n            base._componentConstructor = component.constructor;\n        }\n    }\n\n    if (!isUpdate || mountAll) {\n        mounts.push(component);\n    } else if (!skip) {\n        // 确保在父组件中的componentDidUpdate()挂钩之前调用子组件的挂起componentDidMount()挂钩。\n        if (component.componentDidUpdate) {\n            component.componentDidUpdate(prevProps, prevState, snapshot);\n        }\n    }\n\n    if (!diffLevel && !isChild) flushMounts();\n\n}\n\n/**\n * 将VNode引用的Component应用于DOM\n * \n * @param {KreactElement} dom 要改变的DOM节点\n * @param {VNode} vnode 组件引用的VNode\n * @param {object} context 当前的执行上下文\n * @param {boolean} mountAll 是否立即组装所有组件\n * @returns {KreactElement} 创建好的/更新的元素\n * @private\n */\nexport function buildComponentFromVNode(dom, vnode, context, mountAll) {\n    let c = dom && dom._component,\n        originalComponent = c,\n        oldDom = dom,\n        isDirectOwner = c && dom._componentConstructor === vnode.nodeName,\n        isOwner = isDirectOwner,\n        props = getNodeProps(vnode);\n\n    while (c && !isOwner && (c = c._parentComponent)) {\n        isOwner = c.constructor === vnode.nodeName;\n    }\n\n    if (c && isOwner && (!mountAll || c._component)) {\n\n    } else {\n        let c = createComponent(vnode.nodeName, props, context);\n        \n        if (dom && !c.nextBase) {\n            c.nextBase = dom;\n            // 传递dom/oldDom作为nextBase，如果它未使用到则将会回收它，因此绕过L229的回收\n            oldDom = null;\n        }\n\n        setComponentProps(c, props, SYNC_RENDER, context, mountAll);\n    \n        dom = c.base;\n\n        if (oldDom && dom !== oldDom) {\n            oldDom._component = null;\n            recollectNodeTree(oldDom, false);\n        }\n    }\n\n    return dom;\n}\n\n/**\n * 从DOM中删除组件并回收它\n * \n * @param {Component} component 要卸载的组件实例\n * @private\n */\nexport function unmountComponent(component) {\n    console.log('unmountComponent!');\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/vdom/component.js","import { defer } from './util';\nimport { renderComponent } from '../vdom/component';\nimport { diff } from '../vdom/diff';\n\n/**\n * 要重新渲染`dirty`组件的托管队列\n * @type {Array<Component>}\n */\nlet items = [];\n\n/**\n * 将组件重新排列\n * \n * @param {Component} component 要重新渲染的组件\n */\nexport function enqueueRender(component) {\n    if (!component._dirty && (component._dirty = true) && items.push(component) == 1) {\n        defer(rerender);\n    }\n}\n\n/**\n * 重新渲染所有排队的`dirty`组件\n */\nexport function rerender() {\n    let p;\n    while ((p = items.pop())) {\n        if (p._dirty) renderComponent(p);\n    }\n}\n\n/**\n * 将JSX渲染为`parent`元素\n * \n * @param {VNode} vnode 要渲染的VNode(JSX)\n * @param {KreactElement} parent 要渲染的DOM元素\n * @param {KreactElement} merge 尝试以`merge`为根来重用现有的DOM树\n */\nexport function render(vnode, parent, merge) {\n    return diff(merge, vnode, {}, false,  parent, false);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/render.js","import { FORCE_RENDER } from './constants';\nimport { extend } from './util';\nimport { renderComponent } from '../vdom/component';\nimport { enqueueRender } from './render';\n\n/**\n * 基础组件类\n * 提供`setState()`和`forceUpdate()`，它们触发渲染\n * @typedef {object} Component\n * @param {object} props 初始化props\n * @param {object} context 父组件的getChildContext的初始上下文\n * @public\n * \n * @example\n * class MyFoo extexds Component {\n *     render(props, state) {\n *         return <div />; \n *     }\n * }\n */\nexport function Component(props, context) {\n    this._dirty = true;\n\n    this.context = context;\n\n    this.props = props;\n\n    this.state = this.state || {};\n}\n\nextend(Component.prototype, {\n\n    /**\n     * 更新组件状态并安排重新渲染\n     * \n     * @param {object | function} state 将状态属性的字典简单地合并到当前状态，或者是生成这个字典的函数，该函数以当前状态和props作为参数调用\n     */\n    setState(state) {\n        if (!this.prevState) this.prevState = this.state;\n\n        this.state = extend(\n            extend({}, this.state), (typeof state === 'function') ? state(this.state, this.props) : state\n        );\n\n        enqueueRender(this);\n    },\n\n    /**\n     * 接收`props`和`state`，并返回一个新的Virtual DOM树来构建\n     * Virtual DOM通过[JSX]来构建\n     * \n     * @param {object} props 从父元素/组件接收的props（例如：JSX属性）\n     * @param {object} state 组件的当前状态\n     * @param {object} context 由最近的祖先的`getChildContext()`返回\n     * @returns {VNode}\n     */\n    render() {}\n\n});\n\n\n// WEBPACK FOOTER //\n// ./src/core/component.js","import { ATTR_KEY } from '../core/constants';\nimport { isSameNodeType, isNamedNode } from './index';\nimport { buildComponentFromVNode, unmountComponent } from './component';\nimport { createNode, removeNode, setAccessor } from '../dom/index';\n\n\n/**\n * 已挂载且正在等待componentDidMount的组件的队列\n * @type {Array<Component>}\n */\nexport const mounts = [];\n\n/**\n * Diff递归计数，用于跟踪diff周期的结束\n */\nexport let diffLevel = 0;\n\n/**\n * 调用排队的componentDidMount生命周期方法\n */\nexport function flushMounts() {\n    let c;\n    \n    while ((c = mounts.shift())) {\n        if (c.componentDidMount) c.componentDidMount();\n    }\n}\n\n\n/**\n * 将给定vnode（以及它的深度子节点）中的差异应用到真正的DOM节点\n * \n * @param {KreactElement} dom 一个DOM节点，可以变成`vnode`的形状\n * @param {VNode} vnode 表示所需DOM结构的VNode（具有形成树的后代）\n * @param {object} context 当前执行上下文\n * @param {boolean} mountAll 是否立即装载所有组件\n * @param {Element} parent \n * @param {boolean} componentRoot \n * @returns {KreactElement} 创建/变更后的元素\n * @private\n */\nexport function diff(dom, vnode, context, mountAll, parent, componentRoot) {\n    // diff深度\n    diffLevel++;\n\n    let ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n    // 如果parent是一个新的父级元素，则追加 创建好的子元素ret\n    if (parent && ret.parentNode !== parent) {\n        parent.appendChild(ret);\n    }\n\n    // diffLevel减少到0，表示我们正在退出diff\n    if (!--diffLevel) {\n        // 调用队列中的componentDidMount生命周期方法\n        if (!componentRoot) flushMounts();\n    }\n\n    return ret;\n}\n\n/**\n * `diff`的内部结构，分开以允许绕过`diffLevel`/`mount`刷新\n * \n * @param {KreactElement} dom DOM节点\n * @param {VNode} vnode VNode\n * @param {object} context 当前执行上下文\n * @param {boolean} mountAll 是否立即装载所有组件\n * @param {boolean} [componentRoot]\n * @private\n */\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n    let out = dom;\n\n    // 如果VNode表示组件\n    let vnodeName = vnode.nodeName;\n    if (typeof vnodeName === 'function') {\n        return buildComponentFromVNode(dom, vnode, context, mountAll);\n    }\n\n\n    // 字符串或数字节点\n    if (typeof vnode === 'string' || typeof vnode === 'number') {\n        // 生成新的Text节点并回收旧元素\n        out = document.createTextNode(vnode);\n        \n        if (dom) {\n            if (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n            recollectNodeTree(dom, true);\n        }\n\n        out[ATTR_KEY] = true;\n\n        return out;\n    }\n\n\n    // DOM元素，如果没有现有元素或类型不一致，则创建一个新元素：\n    vnodeName = String(vnodeName);\n    if (!dom || !isNamedNode(dom, vnodeName)) {\n        out = createNode(vnodeName);\n\n        if (dom) {\n            // 将子节点移动到替换节点中\n            while (dom.firstChild) out.appendChild(dom.firstChild);\n\n            // 如果先前的元素已组装到DOM中，则将其替换为内联\n            if (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n            // 回收旧元素（跳过非元素节点类型）\n            recollectNodeTree(dom, true);\n        }\n    }\n\n    let fc = out.firstChild,\n        props = out[ATTR_KEY],\n        vchildren = vnode.children;\n\n    if (props == null) {\n        props = out[ATTR_KEY] = {};\n\n        // 收集元素上的props\n        for (let a = out.attributes, i = a.length; i--; ) {\n            props[a[i].name] = a[i].value;\n        }\n    }\n\n    // 如果有现有的或新的子节点，区别它们：\n    if (vchildren && vchildren.length || fc != null) {\n        innerDiffNode(out, vchildren, context, mountAll);\n    }\n\n    // 将属性从VNode应用到DOM元素：\n    diffAttributes(out, vnode.attributes, props);\n\n    return out;\n}\n\n/**\n * 将VNode和DOM节点之间的子和属性更改应用于DOM\n * \n * @param {KreactElement} dom 需要进行比较和变更的子元素\n * @param {VNode} vchildren 要与`dom.childNodes`进行比较的VNode数组\n * @param {object} context 隐式后代上下文对象（来自最近的`getChildContext()`）\n * @param {boolean} mountAll 是否立即装载所有组件\n */\nfunction innerDiffNode(dom, vchildren, context, mountAll) {\n    let originalChildren = dom.childNodes,\n        children = [],\n        min = 0,\n        len = originalChildren.length,\n        childrenLen = 0,\n        vlen = vchildren ? vchildren.length : 0,\n        j,\n        c,\n        f,\n        vchild,\n        child;\n\n    if (len !== 0) {\n        for (let i = 0; i < len; i++) {\n            let child = originalChildren[i],\n                props = child[ATTR_KEY];\n\n            if (props || child.splitText !== undefined) {\n                children[childrenLen++] = child;\n            }\n        }\n    }\n\n    if (vlen !== 0) {\n        for (let i = 0; i < vlen; i++) {\n            vchild = vchildren[i];\n            child = null;\n\n            // 尝试从现有子节点中获取相同类型的节点\n            if (min < childrenLen) {\n                for (j = min; j < childrenLen; j++) {\n                    if (children[j] !== undefined && isSameNodeType(c = children[j], vchild)) {\n                        child = c;\n                        children[j] = undefined;\n                        if (j === childrenLen - 1) childrenLen--;\n                        if (j === min) min++;\n                        break;\n                    }\n                }\n            }\n\n            // 变形匹配/找到/创建的DOM子项以匹配vchild（深）\n            child = idiff(child, vchild, context, mountAll);\n\n            f = originalChildren[i];\n\n            if (child && child !== dom && child !== f) {\n                if (f == null) {\n                    dom.appendChild(child);\n                } else if (child === f.nextSibling) {\n                    removeNode(f);\n                } else {\n                    dom.insertBefore(child, f);\n                }\n            }\n        }\n    }\n\n    // 删除没有key的子节点\n    while (min <= childrenLen) {\n        if ((child = children[childrenLen--]) !== undefined) {\n            recollectNodeTree(child, false);\n        }\n    }\n\n}\n\n/**\n * 递归地回收（或只是卸载）节点及其后代\n * \n * @param {KreactElement} node 开始卸载/删除的DOM节点\n * @param {boolean} [unmountOnly=false] 如果是`true`，则只触发卸载生命周期，跳过删除\n */\nexport function recollectNodeTree(node, unmountOnly) {\n    console.log('recollectNodeTree!');\n   \n    if (unmountOnly === false || node[ATTR_KEY] == null) {\n        removeNode(node);\n    }\n\n    removeChildren(node);\n}\n\n/**\n * 重新收集/卸载所有的子元素\n * - 我们在这里使用.lastChild，因为它比.firstChild导致更少的回流\n * - 它也比访问.childNodes Live NodeList便宜\n * \n * @param {*} node \n */\nexport function removeChildren(node) {\n    node = node.lastChild;\n\n    while (node) {\n        let next = node.previousSibling;\n        recollectNodeTree(node, true);\n        node = next;\n    }\n}\n\n/**\n * 将属性中的差异从VNode应用于给定的DOM元素\n * \n * @param {KreactElement} dom 有属性差异的元素\n * @param {object} attrs 键值对 属性状态\n * @param {object} old 当前/以前的属性（来自之前的VNode或元素的prop缓存）\n */\nfunction diffAttributes(dom, attrs, old) {\n    let name;\n\n    // 通过将vnode设置为undefined来删除不再存在的属性\n    for (name in old) {\n        if (!attrs && attrs[name] != null && old[name] != null) {\n            setAccessor(dom, name, old[name], old[name] = undefined);\n        }\n    }\n\n    // 添加新的和更新已更改的属性\n    for (name in attrs) {\n        // 新的属性名，或者新的属性值\n        if (\n            name !== 'children' && \n            name !== 'innerHTML' && \n            (!(name in old) || attrs[name] !== (name === 'value' || name === 'checked' ? dom[name] : old[name]))) \n        {\n            setAccessor(dom, name, old[name], old[name] = attrs[name]);\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vdom/diff.js","import { extend } from '../core/util';\n\n/**\n * 检查两个节点是否相同\n * \n * @param {KreactElement} node 要进行比较的DOM节点\n * @param {VNode} vnode 要进行比较的虚拟DOM节点\n * @private\n */\nexport function isSameNodeType(node, vnode) {\n    if (typeof vnode === 'string' || typeof vnode === 'number') {\n        return node.splitText !== undefined;\n    }\n\n    if (typeof vnode.nodeName === 'string') {\n        return !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n    }\n\n    return node._componentConstructor === vnode.nodeName;\n}\n\n/**\n * 检查Element是否具有给定的nodeName，不区分大小写\n * \n * @param {KreactElement} node 用于检查名称的DOM元素\n * @param {string} nodeName 要比较的非标准化名称\n */\nexport function isNamedNode(node, nodeName) {\n    return node.normalizedNodeName === nodeName || node.nodeName.toLowerCase() === nodeName.toLowerCase();\n}\n\n/**\n * 从VNode重构组件的`props`\n * 确保`defaultProps`的默认/回退值：\n * 添加了`vnode.attributes`中不存在的`defaultProps`的自有属性\n * \n * @param {VNode} vnode 要获取`props`的VNode\n * @returns {object} 当前VNode的`props`\n */\nexport function getNodeProps(vnode) {\n    let props = extend({}, vnode.attributes);\n    props.children = vnode.children;\n\n    let defaultProps = vnode.nodeName.defaultProps;\n    if (defaultProps !== undefined) {\n        for (let i in defaultProps) {\n            if (props[i] === undefined) {\n                props[i] = defaultProps[i];\n            }\n        }\n    }\n\n    return props;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vdom/index.js","import { h, h as createElement, flatten } from './core/h';\nimport { Component } from './core/component';\nimport { render } from './core/render';\n\nexport {\n    h,\n    flatten,\n    Component,\n    render\n};\n\nexport default {\n    h,\n    flatten,\n    Component,\n    render\n};\n\n\n\n\n\n/*************TEST**************/\n\nclass Test extends Component {\n    render(props) {\n        return <p style={props.style}>TEST_COMPONENT</p>;\n    }\n}\n\nclass Clock extends Component {\n\n    constructor(props) {\n        super();\n\n        this.state = {\n            count: 1\n        };\n    }\n\n    componentDidMount() {\n        console.log('mounted!');\n    }\n\n    componentDidUpdate() {\n        console.log('updated!');\n    }\n\n    clickHandler(ev) {\n        let count = this.state.count;\n        this.setState({\n            count: ++count\n        });\n    }\n\n    render(props, state) {\n        // console.log(props);\n        let time = new Date().toLocaleTimeString();\n\n        return <div style={{color: 'orange', cursor: 'pointer'}} onClick={this.clickHandler.bind(this)}>\n            <Test style={{color: 'white'}} />\n            <p>{ time + ' <' + state.count + '>' }</p>\n        </div>;\n    }\n}\n\n// console.log(<Clock />);\n\nvar data = [\n    { name: 'dhuang' }\n];\n\nrender(<Clock data={data} />, document.querySelector('#wrapper'));\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { VNode } from '../vdom/vnode';\n\nconst stack = [];\n\nconst EMPTY_CHILDREN = [];\n\n/**\n * VNode树可以用作DOM树结构的轻量级表示。这种结构可以通过递归地将它与当前真正的DOM结构进行比较，并仅更新差异的部分。\n * 该方法接收元素名称，属性列表以及可附加到元素的子元素\n * @example\n * `<div id=\"foo\" name=\"bar\">Hello!</div>`\n * 可以通过h函数构造：\n * `h('div', { id: 'foo', name: 'bar' }, 'Hello!');`\n * @param {string | function} nodeName 元素名称，例如：`div`, `a`, `span`, 等等\n * @param {object | null} attributes 元素的属性\n * @param {VNode[]} [rest] 子元素，可以是无限嵌套的数组\n * \n * @public\n */\nexport function h(nodeName, attributes) {\n    let children = EMPTY_CHILDREN, lastSimple, child ,simple, i;\n\n    for (i = arguments.length; i-- > 2; ) {// 收集第三个之后的参数\n        stack.push(arguments[i]);\n    }\n\n    if (attributes && attributes.children != null) {\n        if (!stack.length) stack.push(attributes.children);\n        delete attributes.children;\n    }\n\n    // 处理 children\n    while (stack.length) {\n        if ((child = stack.pop()) && child.pop !== undefined) {\n            for (i = child.length; i--; ) stack.push(child[i]);\n        } else {\n            if (typeof child === 'boolean') child = null;\n\n            if ((simple = typeof nodeName !== 'function')) {\n                if (child == null) child = '';\n                else if (typeof child === 'number') child = String(child);\n                else if (typeof child !== 'string') simple = false;\n            }\n\n            if (simple && lastSimple) {\n                children[children.length - 1] += child;\n            } else if (children === EMPTY_CHILDREN) {\n                children = [child];\n            } else {\n                children.push(child);\n            }\n\n            lastSimple = simple;\n        }\n    }\n\n    let p = new VNode();\n    p.nodeName = nodeName;\n    p.children = children;\n    p.attributes = attributes == null ? undefined : attributes;\n\n    return p;\n}\n\n\n/**\n * flatten (test)\n */\nconst EMPTY_RESULT = [];\nexport function flatten() {\n    let stack = [], result = EMPTY_RESULT, item, i;\n\n    for (i = arguments.length; i-- > 0; ) {\n        stack.push(arguments[i]);\n    }\n\n    while (stack.length) {\n        if ((item = stack.pop()) && item.pop !== undefined) {\n            for (i = item.length; i--; ) stack.push(item[i]);\n        } else {\n            if (result === EMPTY_RESULT) {\n                result = [item];\n            } else {\n                result.push(item);\n            }\n        }\n    }\n\n    return result;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/h.js","/**\n * Virtual DOM Node\n * @typedef VNode\n * @property {string | function} nodeName 要创建DOM节点的字符串 或 要渲染组件的构造函数\n * @property {Array<VNode | string>} children 子节点\n * @property {object} attributes VNode的属性\n */\nexport const VNode = function VNode() {};\n\n\n// WEBPACK FOOTER //\n// ./src/vdom/vnode.js","import { IS_NON_DIMENSIONAL } from '../core/constants';\n\n/**\n * 使用给定的nodeName创建一个元素\n * \n * @param {string} nodeName 要创建的DOM节点\n * @returns {KreactElement} 创建的DOM节点\n */\nexport function createNode(nodeName) {\n    let node = document.createElement(nodeName);\n    node.normalizedNodeName = nodeName;\n    return node;\n}\n\n/**\n * 从其父节点中删除子节点\n * \n * @param {Node} node 要删除的节点\n */\nexport function removeNode(node) {\n    let parentNode = node.parentNode;\n    if (parentNode) parentNode.removeChild(node);\n}\n\n/**\n * 以挂钩事件处理钩子函数代理一个事件\n * \n * @param {Event} e 浏览器事件对象\n * @private\n */\nfunction eventProxy(e) {\n    return this._listeners[e.type](e);\n}\n\n/**\n * 在给定节点上设置命名属性，对某些名称和事件处理函数具有特殊行为。如果`value`为`null`，则将删除属性/处理函数。\n * \n * @param {KreactElement} node 变更的元素\n * @param {string} name 要设置的名称/键，例如事件或属性名称\n * @param {*} old 为此名称/节点设置的上一个值\n * @param {*} value 属性值，例如要用作事件处理器的函数\n * @private \n */\nexport function setAccessor(node, name, old, value) {\n    if (name === 'className') name = 'class';\n\n    if (name === 'class') {\n        node.className = value || '';\n    } else if (name === 'style') {\n        if (!value || typeof value === 'string' || typeof old === 'string') {\n            node.style.cssText = value || '';\n        }\n        if (value && typeof value === 'object') {\n            if (typeof old !== 'string') {\n                for (let i in old) {\n                    if (!(i in value)) {\n                        node.style[i] = '';\n                    }\n                }\n            }\n            for (let i in value) {\n                node.style[i] = typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false ? (value[i] + 'px') : value[i];\n            }\n        }\n    } else if (name[0] == 'o' && name[1] == 'n') {\n        let useCapture = name !== (name = name.replace(/Capture$/, ''));\n\n        name = name.toLowerCase().substring(2);\n\n        if (value) {\n            if (!old) node.addEventListener(name, eventProxy, useCapture);\n        } else {\n            node.removeEventListener(name, eventProxy, useCapture);\n        }\n        (node._listeners || (node._listeners = {}))[name] = value;\n    } else {\n        // spellcheck的处理方式与所有其他布尔值不同，当值为`false`时不应该删除\n        if (value == null || value === false) {\n            node.removeAttribute(name);\n        } else if (typeof value !== 'function') {\n            node.setAttribute(name, value);\n        }\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/dom/index.js"],"sourceRoot":""}